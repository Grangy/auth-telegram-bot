# üöÄ –í—ã–±–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞

–£ –≤–∞—Å –µ—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞:

## 1. üìÅ –°—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä (JSON —Ñ–∞–π–ª—ã) - `server.js`

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ `database.json`

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è** - –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –∫ —Ñ–∞–π–ª—É
- **–ù–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π** - –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ç–µ—Ä—è–Ω—ã
- **–ù–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è** - –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä, –æ–¥–∏–Ω —Ñ–∞–π–ª

### üöÄ –ó–∞–ø—É—Å–∫:
```bash
npm start
# –∏–ª–∏
node server.js
```

---

## 2. üóÑÔ∏è –ù–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä (MongoDB + Redis) - `server-prisma.js`

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - MongoDB Atlas –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∏–ª–ª–∏–æ–Ω—ã –∑–∞–ø–∏—Å–µ–π
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - Prisma –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏—é
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- **–¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - MongoDB Atlas + Redis
- **–°–ª–æ–∂–Ω–µ–µ** - –±–æ–ª—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –Ω—É–∂–Ω—ã –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

### üöÄ –ó–∞–ø—É—Å–∫:
```bash
npm run start:prisma
# –∏–ª–∏
node server-prisma.js
```

---

## ü§î –ö–∞–∫–æ–π –≤—ã–±—Ä–∞—Ç—å?

### –î–ª—è **—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**:
```bash
# –ü—Ä–æ—Å—Ç–æ–π —Å—Ç–∞—Ä—Ç
npm start
```

### –î–ª—è **–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è**:
```bash
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ MongoDB Atlas –∏ Redis
npm run start:prisma
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä | –ù–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä |
|----------|---------------|--------------|
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** | –î–æ 100 | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 100ms | 10ms |
| **–ü–∞–º—è—Ç—å** | 50MB | 200MB |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** | 0 –º–∏–Ω—É—Ç | 30 –º–∏–Ω—É—Ç |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | $0-50/–º–µ—Å—è—Ü |

---

## üîß –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### 1. MongoDB Atlas (5 –º–∏–Ω—É—Ç):
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [MongoDB Atlas](https://www.mongodb.com/atlas)
2. –°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä
3. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 2. Redis (2 –º–∏–Ω—É—Ç—ã):
```bash
# macOS
brew install redis
brew services start redis

# Ubuntu
sudo apt install redis-server
sudo systemctl start redis-server
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ .env:
```env
DATABASE_URL="mongodb+srv://username:password@cluster.mongodb.net/telegram-auth"
REDIS_HOST=localhost
REDIS_PORT=6379
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm run db:generate
npm run db:push
npm run start:prisma
```

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f logs/combined.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
pkill -f node
npm start
```

### –ù–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
npm run db:studio

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redis
redis-cli ping

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
pkill -f node
npm run start:prisma
```

---

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å–æ —Å—Ç–∞—Ä–æ–≥–æ** - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ –Ω–æ–≤—ã–π** - –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–∞** - –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π

**–í—ã–±–æ—Ä –∑–∞ –≤–∞–º–∏!** üéØ
